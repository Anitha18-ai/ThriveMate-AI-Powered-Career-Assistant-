{% extends "layout.html" %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <h1 class="mb-3">Job Recommender</h1>
        <p class="lead">Find job opportunities that match your skills and preferences.</p>
    </div>
</div>

<div class="row">
    <div class="col-lg-4 mb-4 mb-lg-0">
        <div class="card filter-sidebar mb-4">
            <div class="card-body">
                <h5 class="card-title mb-4">Search Jobs</h5>
                <form id="job-search-form">
                    <div class="mb-3">
                        <label for="keywords-input" class="form-label">Job Title, Skills, or Keywords</label>
                        <input type="text" class="form-control" id="keywords-input" placeholder="e.g. Software Engineer, Python, Marketing">
                    </div>
                    <div class="mb-3">
                        <label for="location-input" class="form-label">Location (Optional)</label>
                        <input type="text" class="form-control" id="location-input" placeholder="e.g. New York, Remote">
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-search me-2"></i> Search
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="card">
            <div class="card-body">
                <h5 class="card-title mb-3">Popular Job Titles</h5>
                <div class="d-flex flex-wrap gap-2">
                    <button type="button" class="btn btn-sm btn-outline-primary job-title-suggestion" onclick="document.getElementById('keywords-input').value='Software Engineer'; return false;">Software Engineer</button>
                    <button type="button" class="btn btn-sm btn-outline-primary job-title-suggestion" onclick="document.getElementById('keywords-input').value='Data Scientist'; return false;">Data Scientist</button>
                    <button type="button" class="btn btn-sm btn-outline-primary job-title-suggestion" onclick="document.getElementById('keywords-input').value='Product Manager'; return false;">Product Manager</button>
                    <button type="button" class="btn btn-sm btn-outline-primary job-title-suggestion" onclick="document.getElementById('keywords-input').value='UX Designer'; return false;">UX Designer</button>
                    <button type="button" class="btn btn-sm btn-outline-primary job-title-suggestion" onclick="document.getElementById('keywords-input').value='Marketing Manager'; return false;">Marketing Manager</button>
                    <button type="button" class="btn btn-sm btn-outline-primary job-title-suggestion" onclick="document.getElementById('keywords-input').value='Web Developer'; return false;">Web Developer</button>
                    <button type="button" class="btn btn-sm btn-outline-primary job-title-suggestion" onclick="document.getElementById('keywords-input').value='DevOps Engineer'; return false;">DevOps Engineer</button>
                </div>
                
                <h5 class="card-title mb-3 mt-4">Popular Locations</h5>
                <div class="d-flex flex-wrap gap-2">
                    <button type="button" class="btn btn-sm btn-outline-secondary location-suggestion" onclick="document.getElementById('location-input').value='Remote'; return false;">Remote</button>
                    <button type="button" class="btn btn-sm btn-outline-secondary location-suggestion" onclick="document.getElementById('location-input').value='New York'; return false;">New York</button>
                    <button type="button" class="btn btn-sm btn-outline-secondary location-suggestion" onclick="document.getElementById('location-input').value='San Francisco'; return false;">San Francisco</button>
                    <button type="button" class="btn btn-sm btn-outline-secondary location-suggestion" onclick="document.getElementById('location-input').value='London'; return false;">London</button>
                    <button type="button" class="btn btn-sm btn-outline-secondary location-suggestion" onclick="document.getElementById('location-input').value='Toronto'; return false;">Toronto</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-lg-8">
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">Job Listings</h5>
                <p id="search-summary" class="text-muted small mb-3">
                    Enter search terms above to find job opportunities
                </p>
                
                <div id="jobs-loading" class="text-center py-5 d-none">
                    <div class="spinner-border loading-spinner text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-3">Searching for jobs, please wait...</p>
                </div>
                
                <div id="no-jobs-found" class="alert alert-info d-none" role="alert">
                    <i class="bi bi-info-circle me-2"></i> No jobs found matching your search criteria. Try different keywords or location.
                </div>
                
                <div id="jobs-results" class="d-none">
                    <div id="jobs-list"></div>
                    
                    <div class="d-flex justify-content-between align-items-center mt-4">
                        <button id="prev-page" class="btn btn-outline-primary" disabled>
                            <i class="bi bi-arrow-left me-2"></i> Previous
                        </button>
                        <div class="text-muted">
                            Page <span id="current-page">1</span> of <span id="total-pages">1</span>
                        </div>
                        <button id="next-page" class="btn btn-outline-primary" disabled>
                            Next <i class="bi bi-arrow-right ms-2"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-body">
                <h5 class="card-title mb-3">Not sure where to start?</h5>
                <p>Upload your resume to our Resume Analyzer to identify your key skills, and we'll suggest relevant jobs based on your experience.</p>
                <a href="/resume-analyzer" class="btn btn-outline-primary">
                    <i class="bi bi-file-earmark-text me-2"></i> Analyze Your Resume
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/job_recommender.js"></script>
{% endblock %}
